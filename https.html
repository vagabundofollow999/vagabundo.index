<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Tigo Sports + ESPN</title>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/shaka-player@4.14.10/dist/shaka-player.compiled.js"></script>
<style>
body {
  background: #000;
  margin: 0;
  font-family: Arial, sans-serif;
  color: #fff;
}
#container {
  display: flex;
  height: 100vh;
}
#channels {
  width: 280px;
  background: #111;
  overflow-y: auto;
  padding: 10px;
  border-right: 2px solid #222;
}
.channel {
  display: flex;
  align-items: center;
  padding: 10px;
  margin-bottom: 8px;
  background: #1a1a1a;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.2s;
}
.channel:hover { background: #333; }
.channel img {
  width: 60px;
  height: 45px;
  object-fit: contain;
  margin-right: 10px;
}
#player {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  background: #000;
}
video {
  width: 100%;
  height: 100%;
  background: #000;
}
</style>
</head>
<body>
<div id="container">
  <div id="channels">
    <h2>vagabundo ðŸ‡µðŸ‡¾</h2>
  </div>
  <div id="player">
    <video id="video" controls autoplay></video>
  </div>
</div>

<script>
// Lista de canales
const channels = [
  // Tigo Sports
  {
    name: "Tigo Sports 1",
    url: "https://d3kzwqwnq1f7tq.cloudfront.net/out/v1/25ca218d53194065bedf6d998ace462e/index.mpd?dvr_window_length=30",
    type: "mpd",
    clearKeys: { "1c62a216a5fe423f959cb1ca02f62d83": "54f2fdc83c1da33cd9269bf21e08218c" },
    icono: "https://i.ibb.co/Cs77Ttc7/tig-rezise.png"
  },
  {
    name: "Tigo Sports 2",
    url: "https://d2jluxxgx550su.cloudfront.net/out/v1/62de20495af84f908fa8963f50c44d46/index.mpd?dvr_window_length=30",
    type: "mpd",
    clearKeys: { "49b2c0e7037042b2aff9f064e0bb3311": "83849e30adf85440550292693147fbf7" },
    icono: "https://i.ibb.co/Cs77Ttc7/tig-rezise.png"
  },
  // ESPN
  {
    name: "ESPN",
    url: "http://45.184.109.10/live/69393EAE6ADBC65A68F942022362A202/89.m3u8",
    type: "hls",
    icono: "https://assetshuluimcom-a.akamaihd.net/h3o/landing/networks/wall/espn-network-logo.png"
  },
  {
    name: "ESPN 2",
    url: "http://104.238.205.28:8989/278762_.m3u8",
    type: "hls",
    icono: "http://schedulesdirect-api20141201-logos.s3.dualstack.us-east-1.amazonaws.com/stationLogos/s88735_dark_360w_270h.png"
  },
  {
    name: "ESPN 3",
    url: "http://104.238.205.28:8989/278763_.m3u8",
    type: "hls",
    icono: "http://schedulesdirect-api20141201-logos.s3.dualstack.us-east-1.amazonaws.com/stationLogos/s73833_dark_360w_270h.png"
  },
  {
    name: "ESPN 4",
    url: "http://104.238.205.28:8989/278764_.m3u8",
    type: "hls",
    icono: "http://schedulesdirect-api20141201-logos.s3.dualstack.us-east-1.amazonaws.com/stationLogos/s65930_dark_360w_270h.png"
  },
  {
    name: "ESPN 5",
    url: "http://104.238.205.28:8989/278558_.m3u8",
    type: "hls",
    icono: "http://schedulesdirect-api20141201-logos.s3.dualstack.us-east-1.amazonaws.com/stationLogos/s86787_dark_360w_270h.png"
  },
  {
    name: "ESPN 6",
    url: "http://104.238.205.28:8989/278566_.m3u8",
    type: "hls",
    icono: "http://schedulesdirect-api20141201-logos.s3.dualstack.us-east-1.amazonaws.com/stationLogos/s99633_dark_360w_270h.png"
  },
  {
    name: "ESPN 7",
    url: "http://104.238.205.28:8989/278567_.m3u8",
    type: "hls",
    icono: "http://schedulesdirect-api20141201-logos.s3.dualstack.us-east-1.amazonaws.com/stationLogos/s91513_dark_360w_270h.png"
  },
  {
    name: "ESPN PREMIUM",
    url: "http://magmaplayer.com/stream/secure/Zmp1KmDjBS8kZmthAGxhZwV0YwHlKmR3AwZkZwL1AQEsLJV2ZmAzAGp1MTEzMwqvLy8j.m3u8",
    type: "hls",
    icono: "https://d18o29lhcg4kda.cloudfront.net/fit-in/360x270/Y2gwMTAwMDAwMDAwMTc5X2xpbmVhcl9jaGFubmVsX3NzbGE_11002_LOGO_360x270.png"
  }
];

const channelsDiv = document.getElementById("channels");
const video = document.getElementById("video");
let hls;
let shakaPlayer;

// Renderiza la lista de canales
channels.forEach((ch, index) => {
  const div = document.createElement("div");
  div.className = "channel";
  div.onclick = () => playChannel(index);
  div.innerHTML = `<img src="${ch.icono}"><div>${ch.name}</div>`;
  channelsDiv.appendChild(div);
});

function playChannel(index) {
  const ch = channels[index];

  // Limpia reproductores previos
  if (hls) { hls.destroy(); hls = null; }
  if (shakaPlayer) { shakaPlayer.destroy(); shakaPlayer = null; }

  if (ch.type === "hls") {
    if (Hls.isSupported()) {
      hls = new Hls();
      hls.loadSource(ch.url);
      hls.attachMedia(video);
    } else if (video.canPlayType("application/vnd.apple.mpegurl")) {
      video.src = ch.url;
    }
  } else if (ch.type === "mpd") {
    shakaPlayer = new shaka.Player(video);
    shakaPlayer.configure({ drm: { clearKeys: ch.clearKeys } });
    shakaPlayer.load(ch.url).catch(e => console.error(e));
  }

  video.play();
}

// Reproduce primer canal
playChannel(0);
</script>
</body>
</html>


